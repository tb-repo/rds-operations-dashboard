# Scripts Directory

This directory contains utility scripts for setting up and managing the RDS Operations Dashboard infrastructure.

## Available Scripts

### setup-s3-structure.py

Python script to initialize S3 bucket folder structure and upload CloudOps templates.

**Requirements:**
- Python 3.7+
- boto3 library (`pip install boto3`)
- AWS credentials configured

**Usage:**
```bash
python setup-s3-structure.py --bucket-name rds-dashboard-data-123456789012-prod
```

**See:** [S3 Setup Guide](../docs/s3-setup-guide.md) for detailed instructions

---

### setup-s3-structure.ps1

PowerShell script to initialize S3 bucket folder structure and upload CloudOps templates (Windows).

**Requirements:**
- PowerShell 5.1 or later
- AWS CLI installed and configured

**Usage:**
```powershell
.\setup-s3-structure.ps1 -BucketName "rds-dashboard-data-123456789012-prod"
```

**See:** [S3 Setup Guide](../docs/s3-setup-guide.md) for detailed instructions

---

## Script Execution Order

1. **Deploy Infrastructure First**: Run `cdk deploy DataStack` to create the S3 bucket
2. **Run S3 Setup Script**: Initialize folder structure and upload templates
3. **Deploy Lambda Functions**: Deploy compute stack with Lambda functions
4. **Configure EventBridge**: Set up scheduled rules for automation

## Common Issues

### Python Script: ModuleNotFoundError: No module named 'boto3'

**Solution:**
```bash
pip install boto3
```

### PowerShell Script: AWS CLI not found

**Solution:**
Install AWS CLI from: https://aws.amazon.com/cli/

### Access Denied Errors

**Solution:**
Ensure your AWS credentials have the required S3 permissions. See [S3 Setup Guide](../docs/s3-setup-guide.md) for required IAM permissions.

## Adding New Scripts

When adding new scripts to this directory:

1. Include metadata header with:
   - Generated by
   - Timestamp
   - Version
   - Policy Version
   - Traceability
   - Risk Level

2. Add comprehensive error handling

3. Include usage examples in comments

4. Update this README with script description

5. Add entry to main project documentation

## Related Documentation

- [S3 Setup Guide](../docs/s3-setup-guide.md)
- [S3 Bucket Structure](../docs/s3-bucket-structure.md)
- [Deployment Guide](../docs/deployment.md)
- [Infrastructure Documentation](../INFRASTRUCTURE.md)
