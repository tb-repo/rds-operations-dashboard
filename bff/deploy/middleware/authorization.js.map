{"version":3,"file":"authorization.js","sourceRoot":"","sources":["../../src/middleware/authorization.ts"],"names":[],"mappings":"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"}